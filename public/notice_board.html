
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>MyScheduling</title>

    <link href="css/styles.css" rel="stylesheet" />
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css" />
    <script>
      
    window.onload = function() {

      
      fetch('/notice')
        .then(response => response.json())
        .then(data => {
          for (let i = 0; i < data.length; i++) {
            document.getElementById('pos').innerHTML += `
              <tr>
                <td>${data[i].n}</td>
                <td>${data[i].subject}</td>
                <td>${data[i].content}</td>
                <td>${data[i].username}</td>
              </tr>
            `;
          }
          
        });

        const userCookie = document.cookie.replace(/(?:(?:^|.*;\s*)USER\s*\=\s*([^;]*).*$)|^.*$/, "$1");

        if (userCookie) {
          document.getElementById("LoggedInContent").style.display = 'block';
          document.getElementById("LoggedInContent_2").style.display = 'block';
          document.getElementById("notLoggedInContent").style.display = 'none';
      } else {
          document.getElementById("notLoggedInContent").style.display = 'block';
          document.getElementById("LoggedInContent").style.display = 'none';
          document.getElementById("LoggedInContent_2").style.display = 'none';
      }
    };

  </script>
</head>
<body>
  <div id="notLoggedInContent" style="display: block;">
    <nav class="navbar navbar-expand-lg bg-body-tertiary navbar-light bg-light static-top">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html">MyScheduling</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="index.html">Home</a>
            
            </li>
              <li class="my_page">
                <a class="nav-link" href="login.html">로그인</a>
              </li>
            </ul>
            <a class="btn btn-primary" href="sign_up.html">회원가입</a>
          </div>
        </div>
      </nav>
    </div>
    <div id="LoggedInContent" style="display: none;">
        <nav class="navbar navbar-expand-lg bg-body-tertiary navbar-light bg-light static-top">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html">MyScheduling</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="index.html">Home</a>
            
            </li>
              <li class="my_page">
                <a class="nav-link" href="data.html">오늘의 기록</a>
              </li>
              <li class="my_page">
                <a class="nav-link" href="result.html">기록 확인</a>
              </li>
            </ul>
            <a class="btn btn-primary" href="/logout">로그아웃</a>
          </div>
          <form></form>
        </div>
      </nav>
    </div>
        
<div fragment="content" class="container my-3">
	<table class="table">
    	<thead class="table-dark">
        	<tr>
				      <th>번호</th>
            	<th>제목</th>
              <th>내용</th>
              <th>작성자</th>
        	</tr>
    	</thead>
    	<tbody id ="pos">
    	</tbody>
	</table>
  <hr/>

  <div id="LoggedInContent_2" style="display: none;">
	<a class="btn btn-primary" href="post.html">게시물 등록하기</a>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="js/scripts.js"></script>
        
</body>

</html>